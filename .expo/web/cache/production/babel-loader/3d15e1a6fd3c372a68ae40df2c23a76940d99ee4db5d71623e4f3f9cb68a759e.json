{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import React,{useState,useEffect}from\"react\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import Image from\"react-native-web/dist/exports/Image\";import ImageBackground from\"react-native-web/dist/exports/ImageBackground\";import Animated from\"react-native-web/dist/exports/Animated\";import Easing from\"react-native-web/dist/exports/Easing\";import Button from\"react-native-web/dist/exports/Button\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Alert from\"react-native-web/dist/exports/Alert\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import styles from\"../Styles/LogInStyles\";import Footer from\"../Footer\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LogIn(){var _useState=useState(new Animated.Value(1)),_useState2=_slicedToArray(_useState,1),scaleValue=_useState2[0];useEffect(function(){var pulseAnimation=Animated.sequence([Animated.timing(scaleValue,{toValue:1.07,duration:1500,easing:Easing.ease,useNativeDriver:true}),Animated.timing(scaleValue,{toValue:1,duration:1500,easing:Easing.ease,useNativeDriver:true})]);Animated.loop(pulseAnimation).start();},[scaleValue]);var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var handleLogin=function(){var _ref=_asyncToGenerator(function*(){try{var response=yield axios({method:'POST',url:'http://localhost:5000/login',headers:{'Content-Type':'application/json'},data:{email:email,password:password}});if(response.data.success){navigation.navigate('Title');}else{alert(\"Login Failed\",response.data.error||\"Incorrect email or password\");}}catch(error){console.error(error);alert(\"Login Error\",\"An error occurred during login, please try again.\");}});return function handleLogin(){return _ref.apply(this,arguments);};}();return _jsxs(ImageBackground,{source:require(\"../../../assets/ecoBackground.png\"),style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh'},children:[_jsx(Image,{source:require(\"../../../assets/ecoSun.png\"),style:{width:300,height:300,position:'absolute',bottom:0}}),_jsx(Animated.Image,{source:require(\"../../../assets/ecoTrackLogosu.png\"),style:[styles.logo,{transform:[{scale:scaleValue}]}]}),_jsxs(View,{style:_objectSpread(_objectSpread({},styles.container),{},{marginBottom:100}),children:[_jsx(TextInput,{style:_objectSpread(_objectSpread({},styles.input),{},{fontSize:18}),placeholder:\"Email\",value:email,onChangeText:function onChangeText(text){return setEmail(text);},autoCapitalize:\"none\"}),_jsx(TextInput,{style:_objectSpread(_objectSpread({},styles.input),{},{fontSize:18}),placeholder:\"Password\",value:password,onChangeText:function onChangeText(text){return setPassword(text);},secureTextEntry:true,autoCapitalize:\"none\"}),_jsx(TouchableOpacity,{style:styles.button,onPress:_asyncToGenerator(function*(){yield handleLogin();}),children:_jsx(Text,{style:styles.buttonText,children:\"Sign In\"})})]}),_jsx(Text,{style:_objectSpread(_objectSpread({},styles.text),{},{color:'white'}),children:\"Don't Have an Account? \"}),_jsx(TouchableOpacity,{onPress:function onPress(){return navigation.navigate('SignUp');},children:_jsx(Text,{style:_objectSpread(_objectSpread({},styles.linkText),{},{color:'white'}),children:\"Sign Up\"})}),_jsx(Footer,{style:{height:18},navigation:navigation})]});}export default LogIn;","map":{"version":3,"names":["React","useState","useEffect","StyleSheet","Text","View","Image","ImageBackground","Animated","Easing","Button","TextInput","Alert","Dimensions","TouchableOpacity","styles","Footer","axios","jsx","_jsx","jsxs","_jsxs","LogIn","_useState","Value","_useState2","_slicedToArray","scaleValue","pulseAnimation","sequence","timing","toValue","duration","easing","ease","useNativeDriver","loop","start","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","handleLogin","_ref","_asyncToGenerator","response","method","url","headers","data","success","navigation","navigate","alert","error","console","apply","arguments","source","require","style","display","justifyContent","alignItems","height","children","width","position","bottom","logo","transform","scale","_objectSpread","container","marginBottom","input","fontSize","placeholder","value","onChangeText","text","autoCapitalize","secureTextEntry","button","onPress","buttonText","color","linkText"],"sources":["C:/Users/Noah Marean/Source/Repos/TLT-1/EcoTracker/src/Components/pages/LogIn.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { StyleSheet, Text, View, Image, ImageBackground, Animated, Easing, Button, TextInput, Alert, Dimensions, TouchableOpacity } from \"react-native\";\r\nimport styles from \"../Styles/LogInStyles\";\r\nimport Footer from '../Footer';\r\nimport axios from 'axios';\r\n\r\nfunction LogIn() {\r\n    const [scaleValue] = useState(new Animated.Value(1));\r\n\r\n    useEffect(() => {\r\n        const pulseAnimation = Animated.sequence([\r\n            Animated.timing(scaleValue, {\r\n                toValue: 1.07,\r\n                duration: 1500,\r\n                easing: Easing.ease,\r\n                useNativeDriver: true,\r\n            }),\r\n            Animated.timing(scaleValue, {\r\n                toValue: 1,\r\n                duration: 1500,\r\n                easing: Easing.ease,\r\n                useNativeDriver: true,\r\n            }),\r\n        ]);\r\n\r\n        Animated.loop(pulseAnimation).start();\r\n    }, [scaleValue]);\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    //console.log(username, password)\r\n\r\n    const handleLogin = async () => {\r\n        try {\r\n            // Make POST request using axios with data\r\n            const response = await axios({\r\n                method: 'POST',\r\n                url: 'http://localhost:5000/login',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                data: {\r\n                    email: email,\r\n                    password: password,\r\n                }\r\n            });\r\n\r\n            //console.log(response.data);  // Print out the response data\r\n            if (response.data.success) {\r\n                navigation.navigate('Title');\r\n            } else {\r\n                // If the login is not successful, show an alert\r\n                alert(\"Login Failed\", response.data.error || \"Incorrect email or password\");\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n            // If there is an error in the request, show an alert\r\n            alert(\"Login Error\", \"An error occurred during login, please try again.\");\r\n        }\r\n    };\r\n\r\n    //handleLogin();\r\n\r\n\r\n\r\n    return (\r\n        <ImageBackground\r\n            source={require(\"../../../assets/ecoBackground.png\")}\r\n            style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                height: '100vh', // full viewport height\r\n            }}\r\n        >\r\n            <Image source={require(\"../../../assets/ecoSun.png\")}\r\n                style={{\r\n                    width: 300,\r\n                    height: 300,\r\n                    position: 'absolute',\r\n                    bottom: 0\r\n                }} />\r\n            <Animated.Image\r\n                source={require(\"../../../assets/ecoTrackLogosu.png\")}\r\n                style={[styles.logo, { transform: [{ scale: scaleValue }] }]}\r\n            />\r\n            <View style={{ ...styles.container, marginBottom: 100 }}>\r\n                <TextInput\r\n                    style={{ ...styles.input, fontSize: 18 }}\r\n                    placeholder=\"Email\"\r\n                    value={email}\r\n                    onChangeText={text => setEmail(text)}\r\n                    autoCapitalize=\"none\"\r\n                />\r\n                <TextInput\r\n                    style={{ ...styles.input, fontSize: 18 }}\r\n                    placeholder=\"Password\"\r\n                    value={password}\r\n                    onChangeText={text => setPassword(text)}\r\n                    secureTextEntry={true}\r\n                    autoCapitalize=\"none\"\r\n                />\r\n                <TouchableOpacity\r\n                    style={styles.button}\r\n                    onPress={async () => {\r\n                        await handleLogin();\r\n\r\n                    }}\r\n                >\r\n                    <Text style={styles.buttonText}>Sign In</Text>\r\n                </TouchableOpacity>\r\n\r\n            </View>\r\n\r\n\r\n            <Text style={{ ...styles.text, color: 'white' }}>Don't Have an Account? </Text>\r\n            <TouchableOpacity onPress={() => navigation.navigate('SignUp')}>\r\n                <Text style={{ ...styles.linkText, color: 'white' }}>Sign Up</Text>\r\n            </TouchableOpacity>\r\n            <Footer style={{ height: 18 }} navigation={navigation} />\r\n        </ImageBackground >\r\n\r\n    );\r\n}\r\nexport default LogIn;\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}