{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import React,{useState,useEffect}from\"react\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import Image from\"react-native-web/dist/exports/Image\";import ImageBackground from\"react-native-web/dist/exports/ImageBackground\";import Animated from\"react-native-web/dist/exports/Animated\";import Easing from\"react-native-web/dist/exports/Easing\";import Button from\"react-native-web/dist/exports/Button\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Alert from\"react-native-web/dist/exports/Alert\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import styles from\"../Styles/VerificationStyles\";import{NavigationContainer}from'@react-navigation/native';import{createNativeStackNavigator}from'@react-navigation/native-stack';import Footer from\"../Footer\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Verification(){var _useState=useState(new Animated.Value(1)),_useState2=_slicedToArray(_useState,1),scaleValue=_useState2[0];useEffect(function(){var pulseAnimation=Animated.sequence([Animated.timing(scaleValue,{toValue:1.07,duration:1500,easing:Easing.ease,useNativeDriver:true}),Animated.timing(scaleValue,{toValue:1,duration:1500,easing:Easing.ease,useNativeDriver:true})]);Animated.loop(pulseAnimation).start();},[scaleValue]);var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userInput=_useState4[0],setUserInput=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),backendCode=_useState6[0],setBackendCode=_useState6[1];var fetchCodeFromBackend=function(){var _ref=_asyncToGenerator(function*(){try{var response=yield axios.get('http://localhost:5000/verify');console.log(response.data);setBackendCode(response.data.code);}catch(error){console.error(error);}});return function fetchCodeFromBackend(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchCodeFromBackend();},[]);var handleLogin=function handleLogin(){if(userInput===backendCode){navigation.navigate('Title');}else{console.error('The codes do not match.');alert('Wrong code');}};return _jsxs(ImageBackground,{source:require(\"../../../assets/ecoBackground.png\"),style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh'},children:[_jsx(Image,{source:require(\"../../../assets/ecoSun.png\"),style:{width:300,height:300,position:'absolute',bottom:0}}),_jsx(Animated.Image,{source:require(\"../../../assets/ecoTrackLogosu.png\"),style:[styles.logo,{transform:[{scale:scaleValue}]}]}),_jsxs(View,{style:_objectSpread(_objectSpread({},styles.container),{},{marginBottom:100}),children:[_jsx(Text,{style:_objectSpread(_objectSpread({},styles.text),{},{color:'white',fontSize:18}),children:\"Verfication Email\"}),_jsx(Text,{style:_objectSpread(_objectSpread({},styles.text),{},{color:'white',fontSize:16}),children:\"We've just sent the OTP code via Email to...\"}),_jsx(TextInput,{style:_objectSpread(_objectSpread({},styles.input),{},{fontSize:18}),placeholder:\" ******** \",value:userInput,onChangeText:function onChangeText(text){return setUserInput(text);},autoCapitalize:\"none\"}),_jsx(Text,{style:_objectSpread(_objectSpread({},styles.text),{},{color:'white',fontSize:16}),children:\" Resend OTP code\"}),_jsx(TouchableOpacity,{style:styles.button,onPress:_asyncToGenerator(function*(){yield handleLogin();}),children:_jsx(Text,{style:styles.buttonText,children:\"Confirm\"})})]}),_jsx(Footer,{style:{height:18},navigation:navigation})]});}export default Verification;","map":{"version":3,"names":["React","useState","useEffect","StyleSheet","Text","View","Image","ImageBackground","Animated","Easing","Button","TextInput","Alert","Dimensions","TouchableOpacity","styles","NavigationContainer","createNativeStackNavigator","Footer","axios","jsx","_jsx","jsxs","_jsxs","Verification","_useState","Value","_useState2","_slicedToArray","scaleValue","pulseAnimation","sequence","timing","toValue","duration","easing","ease","useNativeDriver","loop","start","_useState3","_useState4","userInput","setUserInput","_useState5","_useState6","backendCode","setBackendCode","fetchCodeFromBackend","_ref","_asyncToGenerator","response","get","console","log","data","code","error","apply","arguments","handleLogin","navigation","navigate","alert","source","require","style","display","justifyContent","alignItems","height","children","width","position","bottom","logo","transform","scale","_objectSpread","container","marginBottom","text","color","fontSize","input","placeholder","value","onChangeText","autoCapitalize","button","onPress","buttonText"],"sources":["C:/Users/Noah Marean/Source/Repos/TLT-1/EcoTracker/src/Components/pages/Verification.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { StyleSheet, Text, View, Image, ImageBackground, Animated, Easing, Button, TextInput, Alert, Dimensions, TouchableOpacity } from \"react-native\";\r\nimport styles from \"../Styles/VerificationStyles\";\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport Footer from '../Footer';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\nfunction Verification() {\r\n    const [scaleValue] = useState(new Animated.Value(1));\r\n\r\n    useEffect(() => {\r\n        const pulseAnimation = Animated.sequence([\r\n            Animated.timing(scaleValue, {\r\n                toValue: 1.07,\r\n                duration: 1500,\r\n                easing: Easing.ease,\r\n                useNativeDriver: true,\r\n            }),\r\n            Animated.timing(scaleValue, {\r\n                toValue: 1,\r\n                duration: 1500,\r\n                easing: Easing.ease,\r\n                useNativeDriver: true,\r\n            }),\r\n        ]);\r\n\r\n        Animated.loop(pulseAnimation).start();\r\n    }, [scaleValue]);\r\n\r\n    const [userInput, setUserInput] = useState(''); // State for storing user input\r\n    const [backendCode, setBackendCode] = useState(''); // State for storing code from the backend\r\n    //const navigation = useNavigation(); // Navigation hook\r\n\r\n    // Function to fetch code from the backend\r\n    const fetchCodeFromBackend = async () => {\r\n        try {\r\n            const response = await axios.get('http://localhost:5000/verify');\r\n            console.log(response.data)\r\n            setBackendCode(response.data.code); // Store the fetched code in state\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    // Call this function when the component mounts\r\n    useEffect(() => {\r\n        fetchCodeFromBackend();\r\n    }, []);\r\n\r\n    const handleLogin = () => {\r\n        // Compare the user-entered code with the code fetched from the backend\r\n        if (userInput === backendCode) {\r\n            // If they match, navigate to the next screen\r\n            navigation.navigate('Title'); // Replace 'NextScreen' with your actual screen/route name\r\n            //console.log(backendCode)\r\n        } else {\r\n            // Handle the case where they don't match\r\n            console.error('The codes do not match.');\r\n            alert('Wrong code');\r\n            //console.log(backendCode);\r\n            //console.log(userInput);\r\n        }\r\n        //navigation.navigate('Title');\r\n    };\r\n    //handleLogin();\r\n\r\n\r\n\r\n    return (\r\n        <ImageBackground\r\n            source={require(\"../../../assets/ecoBackground.png\")}\r\n            style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                height: '100vh', // full viewport height\r\n            }}\r\n        >\r\n            <Image source={require(\"../../../assets/ecoSun.png\")}\r\n                style={{\r\n                    width: 300,\r\n                    height: 300,\r\n                    position: 'absolute',\r\n                    bottom: 0\r\n                }} />\r\n            <Animated.Image\r\n                source={require(\"../../../assets/ecoTrackLogosu.png\")}\r\n                style={[styles.logo, { transform: [{ scale: scaleValue }] }]}\r\n            />\r\n\r\n\r\n            <View style={{ ...styles.container, marginBottom: 100 }}>\r\n                <Text style={{ ...styles.text, color: 'white', fontSize: 18 }}>Verfication Email</Text>\r\n                <Text style={{ ...styles.text, color: 'white', fontSize: 16 }}>We've just sent the OTP code via Email to...</Text>\r\n                <TextInput\r\n                    style={{ ...styles.input, fontSize: 18 }}\r\n                    placeholder=\" ******** \"\r\n                    value={userInput}\r\n                    onChangeText={text => setUserInput(text)}\r\n                    autoCapitalize=\"none\"\r\n                />\r\n                <Text style={{ ...styles.text, color: 'white', fontSize: 16 }}> Resend OTP code</Text>\r\n\r\n                <TouchableOpacity\r\n                    style={styles.button}\r\n                    onPress={async () => {\r\n                        await handleLogin();\r\n\r\n                    }}\r\n                >\r\n                    <Text style={styles.buttonText}>Confirm</Text>\r\n                </TouchableOpacity>\r\n\r\n            </View>\r\n\r\n\r\n\r\n            <Footer style={{ height: 18 }} navigation={navigation} />\r\n        </ImageBackground >\r\n\r\n    );\r\n}\r\nexport default Verification;\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}